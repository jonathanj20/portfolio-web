import{i as d,D as f}from"./utils.FYmIc02P.js";const y=t=>{const o=document.body;o.style.overflow="hidden",t.classList.remove("ac-modal--close"),t.showModal(),d()&&T(t),t.addEventListener("click",s=>{s.target===t&&h(t)},{once:!0})},h=t=>{const o=document.body;t.close(),d()&&L(t),setTimeout(()=>{t.classList.add("ac-modal--close"),o.style.overflow="auto"},200)},T=t=>{let o=0,s=0,c=!1;const r=e=>e.scrollHeight>e.clientHeight,v=e=>{for(;e&&e!==t;){if(r(e))return e;e=e.parentElement}return null},E=e=>e.scrollTop===0,a=e=>{o=e.touches[0].clientY;const n=e.target,u=v(n);u&&!E(u)?c=!0:c=!1},l=e=>{if(c)return;s=e.touches[0].clientY;const n=Math.max(0,s-o);t.style.transition="none",t.style.opacity=`${1-n/250}`,t.classList.remove("ac-modal--animated"),t.style.transform=`translateY(${n}px)`,n>250&&(t.close(),t.classList.add("ac-modal--animated"),t.classList.add("ac-modal--close"))},i=()=>{t.style.transform="translateY(0)",t.style.opacity="1",t.style.transition="transform 0.2s ease-in-out"};t.addEventListener("touchstart",a,{passive:!0}),t.addEventListener("touchmove",l,{passive:!0}),t.addEventListener("touchend",i,{passive:!0}),t.handleTouchStart=a,t.handleTouchMove=l,t.handleTouchEnd=i},L=t=>{t.removeEventListener("touchstart",t.handleTouchStart),t.removeEventListener("touchmove",t.handleTouchMove),t.removeEventListener("touchend",t.handleTouchEnd)};f(()=>{const t=document.querySelectorAll("[data-modal-trigger]"),o=document.querySelectorAll("[data-modal-close]");t.forEach(s=>{const c=s.dataset.modalTrigger,r=document.querySelector(`#${c}`);s.addEventListener("click",()=>y(r))}),o.forEach(s=>{const c=s.closest("[data-modal]");s.addEventListener("click",()=>h(c))})});
